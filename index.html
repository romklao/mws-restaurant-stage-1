<!DOCTYPE html>
<html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
  <link rel="stylesheet" src="//normalize-css.googlecode.com/svn/trunk/normalize.css" />
  <link rel="stylesheet" href="css/styles.css">
  <title>Restaurant Reviews</title>
</head>

<body>
  <header>
    <nav>
      <h1><a href="/">Restaurant Reviews</a></h1>
    </nav>
  </header>

  <main id="maincontent">
    <section id="map-container">
      <div id="map"></div>
    </section>
    <section>
      <div class="filter-options">
        <div class="filter-wrap">
          <h2>Filter Results</h2>
          <select id="neighborhoods-select" name="neighborhoods" onchange="updateRestaurants()" role="listbox" aria-label="Select Neighborhood" tabindex="1">
            <option value="all" role="option">All Neighborhoods</option>
          </select>
          <select id="cuisines-select" name="cuisines" onchange="updateRestaurants()" role="listbox" aria-label="Select cuisine" tabindex="2">
            <option value="all" role="option">All Cuisines</option>
          </select>
        </div>
      </div>
      <ul id="restaurants-list" class="grid"></ul>
    </section>
  </main>
  <script>
    if (navigator.serviceWorker) {
      navigator.serviceWorker.register('/sw.js').then(function() {
        console.log('Registration worked!');
      }).catch(function() {
        console.log('Registration failed!');
      });
    }
  </script>
  <script src="config.js"></script>

<!-- Dynamically create script for Google Maps API so we can call the API key
  that we store it in the config.js and use the variable instead of showing the API key-->
   <script>
    if (typeof config !== 'undefined') {
      var mykey = config.MY_KEY;

      function loadScript() {
        var script = document.createElement('script');
        script.src = 'https://maps.googleapis.com/maps/api/js?key=' + mykey + '&libraries=places&callback=initMap';
        script.setAttribute('defer','');
        document.body.appendChild(script);
      }
      document.addEventListener('DOMContentLoaded', (event) => {
        loadScript();
      });
    }
  </script>
  <script src="js/dbhelper.js"></script>
  <script src="js/main.js"></script>

  <footer class="footer">
    Copyright (c) 2017 <a href="/"><strong>Restaurant Reviews</strong></a> All Rights Reserved.
  </footer>

</body>

</html>
